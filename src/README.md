https://learn.microsoft.com/en-us/rest/api/loganalytics/query?view=rest-loganalytics-2022-10-27-preview

let MockVMInfo = datatable( SubscriptionId: string, Resource: string, Computer: string, ResourceId: string ) [ '6e37307e-394c-478a-8404-4e441b3dfc1d', 'webserver', 'webserver', '/subscriptions/6e37307e-394c-478a-8404-4e441b3dfc1d/resourceGroups/rg-func-notification/providers/Microsoft.Compute/virtualMachines/webserver', '6e37307e-394c-478a-8404-4e441b3dfc1d', 'databaseserver', 'databaseserver', '/subscriptions/6e37307e-394c-478a-8404-4e441b3dfc1d/resourceGroups/rg-func-notification/providers/Microsoft.Compute/virtualMachines/databaseserver', '6e37307e-394c-478a-8404-4e441b3dfc1d', 'middlewareserver', 'middlewareserver', '/subscriptions/6e37307e-394c-478a-8404-4e441b3dfc1d/resourceGroups/rg-func-notification/providers/Microsoft.Compute/virtualMachines/middlewareserver' ]; let MockPatchSummary = datatable( Computer: string, Computer1: string, LastUpdateApplied: datetime, OldestMissingSecurityUpdateInDays: int, WindowsUpdateSetting: string, OsVersion: string, CriticalUpdatesMissing: int, SecurityUpdatesMissing: int, OtherUpdatesMissing: int, TotalUpdatesMissing: int, RestartPending: bool ) [ 'webserver', 'webserver', datetime(2025-07-01 10:30:00), 5, 'Automatic', 'Windows Server 2022', 2, 3, 1, 6, true, 'databaseserver', 'databaseserver', datetime(2025-07-03 14:15:00), 3, 'Manual', 'Windows Server 2019', 1, 2, 0, 3, false, 'middlewareserver', 'middlewareserver', datetime(2025-07-05 09:45:00), 7, 'Automatic', 'Windows Server 2022', 0, 1, 2, 3, true ]; MockVMInfo | join kind=leftouter (MockPatchSummary) on Computer | project SubscriptionId, Resource, Computer, ResourceId, Computer1, LastUpdateApplied, OldestMissingSecurityUpdateInDays, WindowsUpdateSetting, OsVersion, CriticalUpdatesMissing, SecurityUpdatesMissing, OtherUpdatesMissing, TotalUpdatesMissing, RestartPending